---
// 1. 导入正确的模块和函数
const { t } = Astro.props;
const steps = [
  { title: t('howItWorks.steps.0.title'), desc: t('howItWorks.steps.0.desc') },
  { title: t('howItWorks.steps.1.title'), desc: t('howItWorks.steps.1.desc') },
  { title: t('howItWorks.steps.2.title'), desc: t('howItWorks.steps.2.desc') },
];
---

<section class="py-16">
  <div class="px-8 mx-auto md:px-12 lg:px-24 max-w-7xl">
    <div class="text-center mb-10">
      <h2 class="text-xl leading-tight tracking-tight sm:text-2xl md:text-3xl lg:text-4xl font-medium text-base-900">{t('howItWorks.title')}</h2>
      <p class="mt-3 text-sm text-base-500">{t('howItWorks.subtitle')}</p>
    </div>
    <div class="relative">
      <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        <div class="hidden lg:block absolute left-10 right-10 top-1/2 -translate-y-1/2 h-2 rounded bg-base-300/50 -z-10"></div>
        {
          steps.map((s, idx) => (
            <div class="bg-accent-50 rounded-2xl p-8 shadow-sm ring-1 ring-base-200">
              <div class:list={[
                "mx-auto size-14 rounded-full text-base-900 flex items-center justify-center font-semibold",
                {
                  "bg-accent-700/60": idx + 1 === 1,
                  "bg-accent-700/40": idx + 1 === 2,
                  "bg-accent-700/20": idx + 1 === 3,
                }
              ]}>{idx + 1}</div>
              <div class="mt-6 text-base-900 font-semibold text-lg text-center">{s.title}</div>
              <div class="mt-3 text-sm text-base-600 text-left" set:html={s.desc}></div>
            </div>
          ))
        }
      </div>
    </div>
  </div>
  
</section>
